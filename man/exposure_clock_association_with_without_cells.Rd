% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/exposure_clock_association_with_without_cells.R
\name{exposure_clock_association_with_without_cells}
\alias{exposure_clock_association_with_without_cells}
\title{Calculate Exposure-Clock Associations With and Without Cell Type Adjustment}
\usage{
exposure_clock_association_with_without_cells(
  data,
  study,
  cell_types,
  all_clocks,
  age_column,
  categorical_variables,
  control_covariates = NULL,
  output_dir = NULL,
  save_results = FALSE
)
}
\arguments{
\item{data}{A data frame containing clock measures, cell types, age, categorical
variables (exposures), and optional control covariates.}

\item{study}{A character string specifying the study name, used for naming output files.}

\item{cell_types}{A character vector of column names in \code{data} that contain cell type measurements.}

\item{all_clocks}{A character vector of column names in \code{data} that contain clock measurements.}

\item{age_column}{A character string specifying the name of the age column in \code{data}.}

\item{categorical_variables}{A character vector of column names in \code{data} representing
the categorical variables (exposures) to be analyzed.}

\item{control_covariates}{A character vector of column names in \code{data} to use as control
covariates in the regression models. Default is \code{NULL} (no control covariates).}

\item{output_dir}{A character string specifying the output directory. If \code{NULL}, the current
working directory is used. Default is \code{NULL}.}

\item{save_results}{Logical; if \code{TRUE}, results are saved as a CSV file. Default is \code{FALSE}.}
}
\value{
A data frame with columns:
\item{Clock_Variable}{Name of the age-adjusted clock measure}
\item{Exposure}{Name of the exposure variable and its level}
\item{Beta_no_cells}{Regression coefficient without cell type adjustment}
\item{Lower_CI_no_cells}{Lower bound of the 95\% CI without cell type adjustment}
\item{Upper_CI_no_cells}{Upper bound of the 95\% CI without cell type adjustment}
\item{Beta_cells}{Regression coefficient with cell type adjustment}
\item{Lower_CI_cells}{Lower bound of the 95\% CI with cell type adjustment}
\item{Upper_CI_cells}{Upper bound of the 95\% CI with cell type adjustment}
}
\description{
This function calculates associations between categorical exposures and
age-adjusted clock measures, both with and without adjusting for cell types.
It optionally controls for additional covariates.
}
\examples{
\dontrun{
result <- exposure_clock_association_with_without_cells(
  data = my_data,
  study = "aging_study",
  cell_types = c("Neutrophils", "Monocytes"),
  all_clocks = c("GrimAge", "PhenoAge"),
  age_column = "Age",
  categorical_variables = c("Smoking", "Alcohol"),
  control_covariates = c("Sex", "BMI"),
  save_results = TRUE
)
}

}
